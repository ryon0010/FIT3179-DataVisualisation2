{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A donut chart showing the number of households by state.",
  "data": {
    "url": "hh_lq_state.csv"
  },
  "transform": [
    {
      "aggregate": [
        {
          "op": "sum",
          "field": "households",
          "as": "TotalHouseholds"
        }
      ],
      "groupby": ["state"]
    }
  ],
  {
    "width": 300,
    "height": 300,
    "mark": {"type": "arc", "innerRadius": 75},
    "encoding": {
      "theta": {"field": "households", "type": "quantitative"},
      "color": {"field": "state", "type": "nominal"},
      "stroke": {"value": "white"},
      "tooltip": [
        {"field": "state", "type": "nominal", "title": "State"},
        {
          "field": "households",
          "type": "quantitative",
          "title": "Mean Income (RM)",
          "format": ","
        }
      ]
    }
  }
}





